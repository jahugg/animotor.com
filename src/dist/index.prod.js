"use strict";require("./fonts.less"),require("./styles.less");var _projects=_interopRequireDefault(require("./projects.json")),_=_interopRequireDefault(require("./media/*.*")),_contentInfo=_interopRequireDefault(require("./content-info.md"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var defaultRoute="/",pages=[{title:"home",route:"/",content:"loadProjects()"},{title:"info",route:"/info",content:"content-info.md"}];function initApp(){navigateToCurrentURL();var e=document.querySelectorAll('a[data-link="page"]'),t=!0,r=!1,n=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){i.value.addEventListener("click",handlePageLink)}}catch(e){r=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw n}}}function handlePageLink(e){e.preventDefault(),buildPage({route:e.target.getAttribute("href")})}function navigateToCurrentURL(){for(var e=window.location.pathname,t=[],r=0,n=pages;r<n.length;r++){var i=n[r];t.push(i.route)}var o=defaultRoute;t.includes(e)&&(o=e),buildPage({route:o})}function buildPage(e){var t,r=document.getElementById("main"),n=!(r.innerHTML=""),i=!1,o=void 0;try{for(var a,u=pages[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=a.value;l.route==e.route&&(t=l)}}catch(e){i=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}if(window.history.pushState(e,"",t.route),"home"===t.title){var d=document.querySelector("#nav a");d.href="/info",d.innerHTML="about";var c=document.createElement("div");c.classList.add("projects"),r.appendChild(c);for(var f=0;f<10;f++){var s=document.createElement("div");s.classList.add("projects__project"),s.innerHTML='<img src="'+_.default["11_Laser"].jpg+'">',c.appendChild(s)}}else if("info"===t.title){var m=document.querySelector("#nav a");m.href="/",m.innerHTML="work",r.innerHTML='<article class="about">'+_contentInfo.default+"</article>"}}function throttledEvent(t,r){var n;return function(e){n||(t(e),n=setTimeout(function(){n=null},r))}}function playAnim(e){var t=document.querySelector(".tiny-anim");t.currentTime+=.05,console.log(t.currentTime),t.currentTime>=t.duration?t.currentTime=0:t.currentTime<=0&&(t.currentTime=t.duration)}function controlAnim(e){var t=.005*e.deltaY,r=document.querySelector(".tiny-anim");r.currentTime+=t,console.log(r.currentTime+"s"),r.currentTime>=r.duration?r.currentTime=0:r.currentTime<=0&&(r.currentTime=r.duration)}function handleTiles(e){var t=document.querySelector(".projects");0===window.pageYOffset?addTile("top"):window.pageYOffset+window.innerHeight===t.offsetHeight&&addTile("bottom")}function addTile(e){var t=_projects.default.projects,r=document.querySelector(".projects"),n=r.offsetHeight,i=document.createElement("div");i.classList.add("projects__tile");var o=0;if("top"===e){var a=parseInt(r.firstChild.getAttribute("data-id"),10);o=0===a?t.length-1:a-1,r.prepend(i);var u=r.offsetHeight-n;window.scrollBy(0,u),r.offsetHeight-u>=2*window.innerHeight&&r.lastChild.remove()}else if("bottom"===e){var l=parseInt(r.lastChild.getAttribute("data-id"),10);o=l===t.length-1?0:l+1,r.appendChild(i);var d=r.offsetHeight-n;r.offsetHeight-d>=2*window.innerHeight&&r.firstChild.remove()}i.innerHTML=t[o].title,i.setAttribute("data-id",o)}initApp();